<div class="job-details-container">
  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a routerLink="/">Home</a>
    <span>/</span>
    <a routerLink="/jobs">Find Job</a>
    <span>/</span>
    <a routerLink="/jobs/categories">{{job?.category}}</a>
    <span>/</span>
    <span class="current">Job Details</span>
  </div>

  <!-- Main Content -->
  <div class="content-wrapper">
    <!-- Job Header -->
    <div class="job-header">
      <div class="company-info">
        <div class="company-logo">
          <img [src]="job?.companyLogo" [alt]="job?.companyName + ' logo'">
        </div>
        <div class="job-title-info">
          <h1>{{job?.title}}</h1>
          <div class="company-meta">
            <a [routerLink]="['/companies', job?.companyId]" class="company-name">
              at {{job?.companyName}}
            </a>
            <div class="job-tags">
              <span class="tag" [class]="job?.type?.toLowerCase()">{{job?.type}}</span>
              <span class="tag featured" *ngIf="job?.featured">Featured</span>
            </div>
          </div>
        </div>
      </div>
      <div class="action-buttons">
        <button class="save-btn" (click)="toggleSaveJob()" [class.saved]="job?.saved">
          <i class="fas" [class.fa-bookmark]="job?.saved" [class.fa-bookmark-o]="!job?.saved"></i>
        </button>
        <div class="job-actions">
          <button class="apply-btn" (click)="openApplyDialog()">
            Apply Now
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </button>
          <span class="expiry">Job expires in: {{job?.expiryDate}}</span>
        </div>
      </div>
    </div>

    <!-- Job Details Grid -->
    <div class="details-grid">
      <!-- Left Column -->
      <div class="main-content">
        <section class="job-description">
          <h2>Job Description</h2>
          <div class="description-content" [innerHTML]="job?.description"></div>
        </section>

        <section class="requirements">
          <h2>Requirements</h2>
          <ul>
            <li *ngFor="let req of job?.requirements">{{req}}</li>
          </ul>
        </section>

        <section class="responsibilities">
          <h2>Responsibilities</h2>
          <ul>
            <li *ngFor="let resp of job?.responsibilities">{{resp}}</li>
          </ul>
        </section>

        <section class="benefits">
          <h2>Benefits</h2>
          <div class="benefits-grid">
            <div class="benefit-item" *ngFor="let benefit of job?.benefits">
              <i class="fas {{benefit.icon}}"></i>
              <h3>{{benefit.title}}</h3>
              <p>{{benefit.description}}</p>
            </div>
          </div>
        </section>
      </div>

      <!-- Right Column -->
      <div class="sidebar">
        <div class="job-overview">
          <h2>Job Overview</h2>

          <div class="overview-items">
            <div class="overview-item">
              <i class="fas fa-map-marker-alt"></i>
              <div class="item-content">
                <label>Location</label>
                <span>{{job?.location}}</span>
              </div>
            </div>

            <div class="overview-item">
              <i class="fas fa-briefcase"></i>
              <div class="item-content">
                <label>Job Type</label>
                <span>{{job?.type}}</span>
              </div>
            </div>

            <div class="overview-item">
              <i class="fas fa-money-bill-wave"></i>
              <div class="item-content">
                <label>Salary</label>
                <span>{{job?.salary}}</span>
              </div>
            </div>

            <div class="overview-item">
              <i class="fas fa-clock"></i>
              <div class="item-content">
                <label>Experience</label>
                <span>{{job?.experience}}</span>
              </div>
            </div>

            <div class="overview-item">
              <i class="fas fa-calendar-alt"></i>
              <div class="item-content">
                <label>Posted Date</label>
                <span>{{job?.postedDate}}</span>
              </div>
            </div>

            <div class="overview-item">
              <i class="fas fa-hourglass-end"></i>
              <div class="item-content">
                <label>Expires</label>
                <span>{{job?.expiryDate}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="company-card">
          <h2>About Company</h2>
          <div class="company-details">
            <img [src]="job?.companyLogo" [alt]="job?.companyName + ' logo'">
            <h3>{{job?.companyName}}</h3>
            <p>{{job?.companyDescription}}</p>

            <div class="company-meta-info">
              <div class="meta-item">
                <i class="fas fa-building"></i>
                <div class="item-content">
                  <label>Company Size</label>
                  <span>{{job?.companySize}}</span>
                </div>
              </div>

              <div class="meta-item">
                <i class="fas fa-globe"></i>
                <div class="item-content">
                  <label>Website</label>
                  <a [href]="job?.companyWebsite" target="_blank">Visit Website</a>
                </div>
              </div>
            </div>

            <a [routerLink]="['/companies', job?.companyId]" class="view-company-btn">
              View Company Profile
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
